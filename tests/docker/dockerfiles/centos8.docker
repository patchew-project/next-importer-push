FROM registry.centos.org/centos:8

RUN dnf -y update
ENV PACKAGES \
    SDL2-devel \
    bzip2 \
    bzip2-devel \
    dbus-daemon \
    gcc \
    gcc-c++ \
    genisoimage \
    gettext \
    git \
    glib2-devel \
    libaio-devel \
    libcacard-devel \
    libepoxy-devel \
    libgcrypt-devel \
    lzo-devel \
    make \
    mesa-libgbm-devel \
    nettle-devel \
    ninja-build \
    nmap-ncat \
    perl-Test-Harness \
    pixman-devel \
    python3 \
    rdma-core-devel \
    spice-protocol \
    spice-server-devel \
    tar \
    zlib-devel

RUN dnf install -y dnf-plugins-core && \
  dnf config-manager --set-enabled PowerTools && \
  dnf install -y $PACKAGES
RUN rpm -q $PACKAGES | sort > /packages.txt
