#
# Docker ppc64el cross-compiler target (tests only)
#
# This docker target builds on the debian Bullseye base image.
#
FROM qemu/debian11

# Add the foreign architecture we want and install dependencies
RUN dpkg --add-architecture ppc64el
RUN apt update && \
    DEBIAN_FRONTEND=noninteractive eatmydata \
        apt install -y --no-install-recommends \
        crossbuild-essential-ppc64el gcc-10-powerpc64le-linux-gnu

# Specify the cross prefix for this image (see tests/docker/common.rc)
#ENV QEMU_CONFIGURE_OPTS --cross-prefix=powerpc64le-linux-gnu-
#ENV DEF_TARGET_LIST ppc64-softmmu,ppc64-linux-user,ppc64abi32-linux-user
