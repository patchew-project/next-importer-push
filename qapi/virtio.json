##
# = Virtio devices
##

##
# @VirtioType:
#
# An enumeration of Virtio device types.
#
# Since: 6.1
##
{ 'enum': 'VirtioType',
  'data': [ 'unknown', 'virtio-net', 'virtio-blk', 'virtio-console',
            'virtio-rng', 'virtio-balloon', 'virtio-iomem', 'virtio-rpmsg',
            'virtio-scsi', 'virtio-9p', 'virtio-mac80211-wlan',
            'virtio-serial', 'virtio-caif', 'virtio-memory-balloon',
            'unknown-14', 'unknown-15', 'virtio-gpu', 'virtio-clock',
            'virtio-input', 'vhost-vsock', 'virtio-crypto', 'virtio-signal-dist',
            'virtio-pstore', 'virtio-iommu', 'virtio-mem', 'unknown-25',
            'vhost-user-fs', 'virtio-pmem', 'unknown-28', 'virtio-mac80211-hwsim' ]
}

##
# @VirtioInfo:
#
# Information about a given VirtIODevice
#
# @path: VirtIO device canonical path.
#
# @type: VirtIO device type.
#
# Since: 6.1
#
##
{ 'struct': 'VirtioInfo',
  'data': {
    'path': 'str',
    'type': 'VirtioType'
  }
}

##
# @x-debug-query-virtio:
#
# Return the list of all VirtIO devices
#
# Returns: list of @VirtioInfo
#
# Since: 6.1
#
# Example:
#
# -> { "execute": "x-debug-query-virtio" }
# <- { "return": [
#        {
#            "path": "/machine/peripheral-anon/device[3]/virtio-backend",
#            "type": "virtio-net"
#        },
#        {
#            "path": "/machine/peripheral-anon/device[1]/virtio-backend",
#            "type": "virtio-serial"
#        },
#        {
#            "path": "/machine/peripheral-anon/device[0]/virtio-backend",
#            "type": "virtio-blk"
#        }
#      ]
#    }
#
##

{ 'command': 'x-debug-query-virtio', 'returns': ['VirtioInfo'] }
