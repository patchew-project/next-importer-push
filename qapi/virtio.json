##
# = Virtio devices
##

##
# @VirtioType:
#
# An enumeration of Virtio device types.
#
# Since: 6.0
##
{ 'enum': 'VirtioType',
  'data': [ 'unknown', 'virtio-9p', 'virtio-blk', 'virtio-serial',
            'virtio-gpu', 'virtio-input', 'virtio-net', 'virtio-scsi',
            'vhost-user-fs', 'vhost-vsock', 'virtio-balloon', 'virtio-crypto',
            'virtio-iommu', 'virtio-pmem', 'virtio-rng' ]
}

##
# @VirtioInfo:
#
# Information about a given VirtIODevice
#
# @path: VirtIO device canonical path.
#
# @type: VirtIO device type.
#
# Since: 6.0
#
##
{ 'struct': 'VirtioInfo',
  'data': {
    'path': 'str',
    'type': 'VirtioType'
  }
}

##
# @x-debug-query-virtio:
#
# Return the list of all VirtIO devices
#
# Returns: list of @VirtioInfo
#
# Since: 6.0
#
# Example:
#
# -> { "execute": "x-debug-query-virtio" }
# <- { "return": [
#        {
#            "path": "/machine/peripheral-anon/device[3]/virtio-backend",
#            "type": "virtio-net"
#        },
#        {
#            "path": "/machine/peripheral-anon/device[1]/virtio-backend",
#            "type": "virtio-serial"
#        },
#        {
#            "path": "/machine/peripheral-anon/device[0]/virtio-backend",
#            "type": "virtio-blk"
#        }
#      ]
#    }
#
##

{ 'command': 'x-debug-query-virtio', 'returns': ['VirtioInfo'] }
